jQuery(document).ready(function(){jQuery('.additional-facepile').hide();jQuery('.toggle-additional-facepiles').click(function(){jQuery(this).parent('ul').find('.additional-facepile').toggle()})})
;var addComment={moveForm:function(a,b,c,d){var e,f,g,h,i=this,j=i.I(a),k=i.I(c),l=i.I("cancel-comment-reply-link"),m=i.I("comment_parent"),n=i.I("comment_post_ID"),o=k.getElementsByTagName("form")[0];if(j&&k&&l&&m&&o){i.respondId=c,d=d||!1,i.I("wp-temp-form-div")||(e=document.createElement("div"),e.id="wp-temp-form-div",e.style.display="none",k.parentNode.insertBefore(e,k)),j.parentNode.insertBefore(k,j.nextSibling),n&&d&&(n.value=d),m.value=b,l.style.display="",l.onclick=function(){var a=addComment,b=a.I("wp-temp-form-div"),c=a.I(a.respondId);if(b&&c)return a.I("comment_parent").value="0",b.parentNode.insertBefore(c,b),b.parentNode.removeChild(b),this.style.display="none",this.onclick=null,!1};try{for(var p=0;p<o.elements.length;p++)if(f=o.elements[p],h=!1,"getComputedStyle"in window?g=window.getComputedStyle(f):document.documentElement.currentStyle&&(g=f.currentStyle),(f.offsetWidth<=0&&f.offsetHeight<=0||"hidden"===g.visibility)&&(h=!0),"hidden"!==f.type&&!f.disabled&&!h){f.focus();break}}catch(q){}return!1}},I:function(a){return document.getElementById(a)}};
;(function($){(function(){var nav=$('#primary-navigation'),button,menu;if(!nav){return}})();$(function(){$('#access, .secondary-navigation').find('a').on('focus.sempress blur.sempress',function(){$(this).parents().toggleClass('focus')})})})(jQuery)
;var jetpackLikesWidgetBatch=[];var jetpackLikesMasterReady=!1;var jetpackLikesLookAhead=2000;var jetpackCommentLikesLoadedWidgets=[];function JetpackLikesPostMessage(message,target){if('string'===typeof message){try{message=JSON.parse(message)}catch(e){return}}
pm({target:target,type:'likesMessage',data:message,origin:'*'})}
function JetpackLikesBatchHandler(){var requests=[];jQuery('div.jetpack-likes-widget-unloaded').each(function(){if(jetpackLikesWidgetBatch.indexOf(this.id)>-1){return}
if(!jetpackIsScrolledIntoView(this)){return}
jetpackLikesWidgetBatch.push(this.id);var regex=/like-(post|comment)-wrapper-(\d+)-(\d+)-(\w+)/,match=regex.exec(this.id),info;if(!match||match.length!==5){return}
info={blog_id:match[2],width:this.width};if('post'===match[1]){info.post_id=match[3]}else if('comment'===match[1]){info.comment_id=match[3]}
info.obj_id=match[4];requests.push(info)});if(requests.length>0){JetpackLikesPostMessage({event:'initialBatch',requests:requests},window.frames['likes-master'])}}
function JetpackLikesMessageListener(event,message){var allowedOrigin,$container,$list,offset,rowLength,height,scrollbarWidth;if('undefined'===typeof event.event){return}
allowedOrigin='//widgets.wp.com';if(allowedOrigin!==message.origin){return}
switch(event.event){case 'masterReady':jQuery(document).ready(function(){jetpackLikesMasterReady=!0;var stylesData={event:'injectStyles'},$sdTextColor=jQuery('.sd-text-color'),$sdLinkColor=jQuery('.sd-link-color');if(jQuery('iframe.admin-bar-likes-widget').length>0){JetpackLikesPostMessage({event:'adminBarEnabled'},window.frames['likes-master']);stylesData.adminBarStyles={background:jQuery('#wpadminbar .quicklinks li#wp-admin-bar-wpl-like > a').css('background'),isRtl:('rtl'===jQuery('#wpadminbar').css('direction'))}}
if(!window.addEventListener){jQuery('#wp-admin-bar-admin-bar-likes-widget').hide()}
stylesData.textStyles={color:$sdTextColor.css('color'),fontFamily:$sdTextColor.css('font-family'),fontSize:$sdTextColor.css('font-size'),direction:$sdTextColor.css('direction'),fontWeight:$sdTextColor.css('font-weight'),fontStyle:$sdTextColor.css('font-style'),textDecoration:$sdTextColor.css('text-decoration')};stylesData.linkStyles={color:$sdLinkColor.css('color'),fontFamily:$sdLinkColor.css('font-family'),fontSize:$sdLinkColor.css('font-size'),textDecoration:$sdLinkColor.css('text-decoration'),fontWeight:$sdLinkColor.css('font-weight'),fontStyle:$sdLinkColor.css('font-style')};JetpackLikesPostMessage(stylesData,window.frames['likes-master']);JetpackLikesBatchHandler()});break;case 'showLikeWidget':jQuery('#'+event.id+' .likes-widget-placeholder').fadeOut('fast');break;case 'showCommentLikeWidget':jQuery('#'+event.id+' .likes-widget-placeholder').fadeOut('fast');break;case 'killCommentLikes':jQuery('.jetpack-comment-likes-widget-wrapper').remove();break;case 'clickReblogFlair':wpcom_reblog.toggle_reblog_box_flair(event.obj_id);break;case 'showOtherGravatars':$container=jQuery('#likes-other-gravatars');$list=$container.find('ul');$container.hide();$list.html('');$container.find('.likes-text span').text(event.total);jQuery.each(event.likers,function(i,liker){var element;if('http'!==liker.profile_URL.substr(0,4)){return}
element=jQuery('<li><a><img /></a></li>');element.addClass(liker.css_class);element.find('a').attr({href:liker.profile_URL,rel:'nofollow',target:'_parent'}).addClass('wpl-liker');element.find('img').attr({src:liker.avatar_URL,alt:liker.name}).css({width:'30px',height:'30px',paddingRight:'3px'});$list.append(element)});offset=jQuery('[name=\''+event.parent+'\']').offset();$container.css('left',offset.left+event.position.left-10+'px');$container.css('top',offset.top+event.position.top-33+'px');rowLength=Math.floor(event.width/37);height=(Math.ceil(event.likers.length/rowLength)*37)+13;if(height>204){height=204}
$container.css('height',height+'px');$container.css('width',rowLength*37-7+'px');$list.css('width',rowLength*37+'px');$container.fadeIn('slow');scrollbarWidth=$list[0].offsetWidth-$list[0].clientWidth;if(scrollbarWidth>0){$container.width($container.width()+scrollbarWidth);$list.width($list.width()+scrollbarWidth)}}}
pm.bind('likesMessage',JetpackLikesMessageListener);jQuery(document).click(function(e){var $container=jQuery('#likes-other-gravatars');if($container.has(e.target).length===0){$container.fadeOut('slow')}});function JetpackLikesWidgetQueueHandler(){var wrapperID;if(!jetpackLikesMasterReady){setTimeout(JetpackLikesWidgetQueueHandler,500);return}
jetpackUnloadScrolledOutWidgets();var unloadedWidgetsInView=jetpackGetUnloadedWidgetsInView();if(unloadedWidgetsInView.length>0){JetpackLikesBatchHandler()}
for(var i=0,length=unloadedWidgetsInView.length;i<=length-1;i++){wrapperID=unloadedWidgetsInView[i].id;if(!wrapperID){continue}
jetpackLoadLikeWidgetIframe(wrapperID)}}
function jetpackLoadLikeWidgetIframe(wrapperID){var $wrapper;if('undefined'===typeof wrapperID){return}
$wrapper=jQuery('#'+wrapperID);$wrapper.find('iframe').remove();var placeholder=$wrapper.find('.likes-widget-placeholder');if(placeholder.hasClass('post-likes-widget-placeholder')){var postLikesFrame=document.createElement('iframe');postLikesFrame['class']='post-likes-widget jetpack-likes-widget';postLikesFrame.name=$wrapper.data('name');postLikesFrame.src=$wrapper.data('src');postLikesFrame.height='18px';postLikesFrame.width='200px';postLikesFrame.frameBorder='0';postLikesFrame.scrolling='no';if($wrapper.hasClass('slim-likes-widget')){postLikesFrame.height='22px';postLikesFrame.width='68px';postLikesFrame.scrolling='no'}else{postLikesFrame.height='55px';postLikesFrame.width='100%'}
placeholder.after(postLikesFrame)}
if(placeholder.hasClass('comment-likes-widget-placeholder')){var commentLikesFrame=document.createElement('iframe');commentLikesFrame['class']='comment-likes-widget-frame jetpack-likes-widget-frame';commentLikesFrame.name=$wrapper.data('name');commentLikesFrame.src=$wrapper.data('src');commentLikesFrame.height='18px';commentLikesFrame.width='100%';commentLikesFrame.frameBorder='0';commentLikesFrame.scrolling='no';$wrapper.find('.comment-like-feedback').after(commentLikesFrame);jetpackCommentLikesLoadedWidgets.push(commentLikesFrame)}
$wrapper.removeClass('jetpack-likes-widget-unloaded').addClass('jetpack-likes-widget-loading');$wrapper.find('iframe').load(function(e){var $iframe=jQuery(e.target);JetpackLikesPostMessage({event:'loadLikeWidget',name:$iframe.attr('name'),width:$iframe.width()},window.frames['likes-master']);$wrapper.removeClass('jetpack-likes-widget-loading').addClass('jetpack-likes-widget-loaded');if($wrapper.hasClass('slim-likes-widget')){$wrapper.find('iframe').Jetpack('resizeable')}})}
function jetpackGetUnloadedWidgetsInView(){var $unloadedWidgets=jQuery('div.jetpack-likes-widget-unloaded');return $unloadedWidgets.filter(function(){return jetpackIsScrolledIntoView(this)})}
function jetpackIsScrolledIntoView(element){var top=element.getBoundingClientRect().top;var bottom=element.getBoundingClientRect().bottom;return(top+jetpackLikesLookAhead>=0)&&(bottom<=window.innerHeight+jetpackLikesLookAhead)}
function jetpackUnloadScrolledOutWidgets(){for(var i=jetpackCommentLikesLoadedWidgets.length-1;i>=0;i--){var currentWidgetIframe=jetpackCommentLikesLoadedWidgets[i];if(!jetpackIsScrolledIntoView(currentWidgetIframe)){var $widgetWrapper=jQuery(currentWidgetIframe).parent().parent();$widgetWrapper.removeClass('jetpack-likes-widget-loaded jetpack-likes-widget-loading').addClass('jetpack-likes-widget-unloaded');$widgetWrapper.children('.comment-likes-widget-placeholder').fadeIn();jetpackCommentLikesLoadedWidgets.splice(i,1);jQuery(currentWidgetIframe).remove()}}}
var jetpackWidgetsDelayedExec=function(after,fn){var timer;return function(){timer&&clearTimeout(timer);timer=setTimeout(fn,after)}};var jetpackOnScrollStopped=jetpackWidgetsDelayedExec(250,JetpackLikesWidgetQueueHandler);JetpackLikesWidgetQueueHandler();window.addEventListener('scroll',jetpackOnScrollStopped,!0)
;!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++){if(d=i[c],!d.getAttribute("data-secret"))f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f);if(g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);
;var ak_js=document.getElementById("ak_js");if(!ak_js){ak_js=document.createElement('input');ak_js.setAttribute('id','ak_js');ak_js.setAttribute('name','ak_js');ak_js.setAttribute('type','hidden')}
else{ak_js.parentNode.removeChild(ak_js)}
ak_js.setAttribute('value',(new Date()).getTime());var commentForm=document.getElementById('commentform');if(commentForm){commentForm.appendChild(ak_js)}
else{var replyRowContainer=document.getElementById('replyrow');if(replyRowContainer){var children=replyRowContainer.getElementsByTagName('td');if(children.length>0){children[0].appendChild(ak_js)}}}
;